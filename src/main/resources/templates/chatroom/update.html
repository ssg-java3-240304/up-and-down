<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/header-n-side}">
<head>
    <title>Community Update</title>

    <script layout:fragment="js"></script>
    <script th:src="@{/js/chatroom/list.js}"></script>

    <link rel="stylesheet" th:href="@{/css/chatroom/update.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<main layout:fragment="main" class="mt-20">
    <!-- 탭 -->
    <ul class="nav nav-tabs d-flex w-100">
        <li class="nav-item flex-fill">
            <a class="nav-link text-center d-flex justify-content-center align-items-center" data-tab="all"
               th:classappend="${param.tab == 'all'} ? 'active' : ''"
               th:href="@{/chat-rooms/list}">전체</a>
        </li>
        <li class="nav-item flex-fill">
            <a class="nav-link text-center d-flex justify-content-center align-items-center" data-tab="our"
               th:classappend="${param.tab == 'our'} ? 'active' : ''"
               th:href="@{/chat-rooms/our}">우리모임</a>
        </li>
        <li class="nav-item flex-fill">
            <a class="nav-link text-center d-flex justify-content-center align-items-center" data-tab="mine"
               th:classappend="${param.tab == 'mine'} ? 'active' : ''"
               th:href="@{/chat-rooms/my}">내모임</a>
        </li>
    </ul>

    <form th:action="@{/chat-rooms/update/{chatRoomId}(chatRoomId=${chatRoom.getChatroomId})}" method="post">
        <!-- chatRoomId -->
        <input type="hidden" name="chatRoomId" th:value="${chatRoom.getChatroomId}"/>
        <!-- 제목 -->
        <div class="form-group mt-3">
            <input name="name" type="text" class="form-control" placeholder="제목을 입력하세요" th:value="${chatRoom.name}"/>
        </div>

        <!-- 카테고리 -->
        <div class="category-buttons">
            <input class="category-button" type="checkbox" id="hiking" name="category" value="HIKING"
                   th:checked="${#lists.contains(chatRoom.category, 'HIKING')}"/>
            <label for="hiking">등산</label>

            <input class="category-button" type="checkbox" id="walking" name="category" value="WALKING"
                   th:checked="${#lists.contains(chatRoom.category, 'WALKING')}"/>
            <label for="walking">산책</label>

            <input class="category-button" type="checkbox" id="camping" name="category" value="CAMPING"
                   th:checked="${#lists.contains(chatRoom.category, 'CAMPING')}"/>
            <label for="camping">캠핑</label>

            <input class="category-button" type="checkbox" id="festival" name="category" value="FESTIVAL"
                   th:checked="${#lists.contains(chatRoom.category, 'FESTIVAL')}"/>
            <label for="festival">축제</label>

            <input class="category-button" type="checkbox" id="beach" name="category" value="BEACH"
                   th:checked="${#lists.contains(chatRoom.category, 'BEACH')}"/>
            <label for="beach">바다</label>

            <input class="category-button" type="checkbox" id="healing" name="category" value="HEALING"
                   th:checked="${#lists.contains(chatRoom.category, 'HEALING')}"/>
            <label for="healing">힐링</label>

            <input class="category-button" type="checkbox" id="fishing" name="category" value="FISHING"
                   th:checked="${#lists.contains(chatRoom.category, 'FISHING')}"/>
            <label for="fishing">낚시</label>

            <input class="category-button" type="checkbox" id="others" name="category" value="OTHERS"
                   th:checked="${#lists.contains(chatRoom.category, 'OTHERS')}"/>
            <label for="others">기타</label>
        </div>


        <!-- 본문 내용 -->
        <div class="form-group mt-3">
            <textarea name="description" class="content-editable" contenteditable="true" placeholder="소개글을 입력해주세요" th:text="${chatRoom.description}"></textarea>
        </div>

        <!-- 등록 버튼 -->
        <div class="button-container bottom-center">
            <button type="submit" class="custom-btn-success">수정</button>
        </div>
    </form>
</main>
    <script>
        document.querySelector('h1').style.fontSize = '2rem';
        document.querySelector('h1').style.fontWeight = '700';
        document.querySelector('body').style.fontFamily = 'Noto Sans KR, sans-serif';
        document.querySelector('body').style.color = '#252525';
        document.querySelector('body').style.lineHeight = '1';
    </script>
</body>
</html>