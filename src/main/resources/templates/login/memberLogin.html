<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/header-only}">
<head>
    <meta charset="UTF-8">
    <title>memberLogin</title>

    <link th:href="@{/css/admin/memberLogin.css}" rel="stylesheet">
</head>
<body>
<main class="main-container" layout:fragment="main">
    <form th:action="@{/auth/login}" th:method="post">
        <div class="login-box">
            <h2>로그인</h2>
            <input type="text" id="username" name="username" placeholder="아이디를 입력해주세요.">
            <input type="password" id="password" name="password" placeholder="비밀번호를 입력해주세요.">
            <div class="flex justify-between">
                <button type="submit" class="login-button">로그인</button>
                <button type="button" class="join-button" th:onclick="|location.href = '@{/join/member/terms}'|">회원가입</button>
            </div>
            <div class="social-login">
                <img src="https://kr.object.ncloudstorage.com/up-bucket/socialImage/naver.png" alt="Naver login" id="naverLoginImage">
                <img src="https://kr.object.ncloudstorage.com/up-bucket/socialImage/kakao.png" alt="Kakao login">
                <img class="google-login" src="https://kr.object.ncloudstorage.com/up-bucket/socialImage/google.png" alt="Google login">
            </div>
        </div>
    </form>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // JavaScript 함수 정의
            function naverLogin() {
                // 네이버 로그인 요청 URL 삽입
                const csrfToken = "[[${_csrf.token}]]";
                const encodedToken = encodeURIComponent(csrfToken);
                const url = `https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id=_gTTj5HevAEyXNeUhRjE&state=${encodedToken}&redirect_uri=http://localhost:8080/app/`;
                window.location.href = url; // 네이버 로그인 페이지로 이동
            }

            // 이벤트 리스너를 통해 이미지 클릭 시 함수 호출
            document.getElementById("naverLoginImage").addEventListener("click", naverLogin);
        });
    </script>
</main>
</body>
</html>
