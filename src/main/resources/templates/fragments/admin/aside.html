<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body>
    <aside th:fragment="asideFragment">
        <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar" style="height: 100%">

            <!-- Sidebar - Brand -->
            <a class="sidebar-brand d-flex align-items-center justify-content-center" th:href="@{/admin/dashboard}">
                <div class="sidebar-brand-text mx-3">Up Down</div>
            </a>

            <!-- Heading -->
            <div class="sidebar-heading">본사</div>

            <!-- 본사 정보 관리 -->
            <li class="nav-item" id="sideProduct">
                <a class="nav-link" th:href="@{/admin/companyInfo}">
                    <i class="fas fa-building"></i>
                    <span>정보 관리</span></a>
            </li>

            <div class="sidebar-heading">관리자</div>

            <!-- Nav Item - 주문 관리 -->
            <li class="nav-item" id="sideOrder">
                <a class="nav-link" th:href="@{/admin/accountManagement/adminInfo}">
                    <i class="far fa-address-book"></i>
                    <span>계정 관리</span></a>
            </li>

            <div class="sidebar-heading">회원</div>

            <li class="nav-item" id="sideSales">
                <a class="nav-link" th:href="@{/admin/accountManagement/memberInfo}">
                    <i class="far fa-address-book"></i>
                    <span>계정 관리</span></a>
            </li>

            <div class="sidebar-heading">상품</div>

            <!-- Nav Item - 교환 -->
            <li class="nav-item" id="sideRefund">
                <a class="nav-link" th:href="@{/admin/refund/refundList}">
                    <i class="fas fa-plane"></i>
                    <span>상품 관리</span></a>
            </li>

            <div class="sidebar-heading">통계</div>

            <!-- Nav Item - 회원관리 -->
            <li class="nav-item" id="sample">
                <a class="nav-link stat-link">
                    <i class="fas fa-poll-h"></i>
                    <span>통계</span>
                    <i class='fas fa-angle-right' style="margin-left: 120px"></i>
                </a>
                <ul class="submenu" style="display: none; flex-direction: column;">
<!--                    <li style="list-style: none"><a class="nav-link" href="#" style="font-size: 14px;">커뮤니티 카테고리 통계</a></li>-->
                    <li style="list-style: none"><a class="nav-link" th:href="@{/admin/stat/loginInfo}" style="font-size: 14px;">회원 접속 통계</a></li>
                    <li style="list-style: none"><a class="nav-link" th:href="@{/admin/stat/productInfo}" style="font-size: 14px;">상품 통계</a></li>
                    <li style="list-style: none"><a class="nav-link" th:href="@{/admin/stat/advertisement}" style="font-size: 14px;">광고 통계</a></li>
                </ul>
            </li>

            <!-- Divider -->
            <hr class="sidebar-divider d-none d-md-block">

            <!-- Sidebar Toggler (Sidebar) -->
<!--            <div class="text-center d-none d-md-inline">-->
<!--                <button class="rounded-circle border-0" id="sidebarToggle"></button>-->
<!--            </div>-->

            <div class="text-center d-none d-md-block" style="margin-top: auto; margin-bottom: 30px">
                <a class="btn btn-primary" th:href="@{/login/logout}">로그아웃</a>
            </div>
        </ul>
        <script>
            const statLinks = document.querySelectorAll(".stat-link");
            const submenu = document.querySelector(".submenu");

            statLinks.forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault();

                    // 현재 클릭된 요소가 이미 active 상태인지 확인
                    const isActive = this.classList.contains("active");

                    // 모든 요소에서 active 클래스 제거
                    statLinks.forEach(l => {
                        l.classList.remove("active");
                        l.parentElement.querySelector(".submenu").style.display = "none";
                    });

                    // 클릭된 요소가 이미 active가 아니었다면 active 클래스 추가, 이미 active였다면 제거
                    if (!isActive) {
                        this.classList.add("active");
                        submenu.style.display = "flex";
                    }
                });
            });
        </script>
    </aside>
</body>
</html>